(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{36:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),s=n(15),a=n.n(s),i=n(12),c=n(5),u=n(23),d=n(11),j=(n(36),n(3)),b="USER_LOGIN",l="USER_LOGOUT",p="QUESTION_CREATE",h="QUESTION_ANSWER";var O=n(1);var m=Object(c.b)((function(e){return{users:Object.keys(e.users).map((function(t){return{id:t,name:e.users[t].name,avatarUrl:e.users[t].avatarURL}})),isUserSelected:""!==e.currentUser&&Object.keys(e.users).includes(e.currentUser)}}),(function(e){return{setCurrentUser:function(t){return e({type:b,payload:{currentUser:t}})}}}))((function(e){e.isUserSelected;var t=e.users,n=e.setCurrentUser;return Object(O.jsxs)("div",{children:["Hello from Home Page",Object(O.jsx)("ul",{children:t.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsxs)("button",{onClick:function(t){return r=e.id,void n(r);var r},children:["Login as ",e.name]})},e.id)}))})]})})),v=n(4),x=n(24),f=["currentUser","userIds"];var y=Object(c.b)((function(e){return{currentUser:e.currentUser,userIds:Object.keys(e.users)}}))((function(e){var t=e.currentUser,n=e.userIds,r=Object(x.a)(e,f);return n.find((function(e){return e===t}))?Object(O.jsx)(j.b,Object(v.a)({},r)):Object(O.jsx)(j.a,{to:"/"})}));n(41);var w=Object(c.b)((function(e){var t=e.users,n=e.questions,r=e.currentUser;return{questions:Object.keys(n).map((function(e){return{id:e,options:[n[e].optionOne.text,n[e].optionTwo.text],author:{name:t[n[e].author].name,avatarUrl:t[n[e].author].avatarURL}}})),currentUser:{id:r,name:t[r].name,avatarUrl:t[r].avatarURL}}}))((function(e){var t=e.currentUser,n=e.questions;return Object(O.jsxs)("div",{children:["Hello from Questions Page for user ",t.name,Object(O.jsx)("ul",{children:n.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsxs)("h3",{children:[e.author.name," asks"]}),Object(O.jsx)("p",{children:"Would you rather?"}),Object(O.jsxs)("p",{children:[e.options[0]," or ",e.options[1]]}),Object(O.jsx)(d.b,{to:"/questions/"+e.id,children:"Go to question"})]},e.id)}))})]})}));var g=Object(c.b)((function(e){return{leaderboard:Object.keys(e.users).map((function(t){var n=Object.keys(e.users[t].answers).length+e.users[t].questions.length;return{id:t,avatarUrl:e.users[t].avatarURL,name:e.users[t].name,score:n}})).sort((function(e,t){return t.score-e.score})),currentUser:{id:e.currentUser,name:e.users[e.currentUser].name,avatarUrl:e.users[e.currentUser].avatarURL}}}))((function(e){var t=e.leaderboard;return Object(O.jsxs)("div",{children:["Hello from Leaderboard Page",Object(O.jsx)("ol",{children:t.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsx)("p",{children:e.name}),Object(O.jsxs)("p",{children:["Score: ",e.score]})]},e.id)}))})]})})),U=n(44),q=function(e,t){return function(n,r){n(function(e){return{type:p,payload:{question:e}}}({id:Object(U.a)().replace("-","").slice(0,22),timestamp:Date.now(),author:r().currentUser,optionOne:{text:e,votes:[]},optionTwo:{text:t,votes:[]}}))}};var T=Object(c.b)((function(e){var t=e.users;e.questions;return{currentUser:t[e.currentUser]}}),(function(e){return{createQuestion:function(t,n){return e(q(t,n))}}}))((function(e){var t=e.createQuestion,n=e.currentUser;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{children:["Hello from Add Question Page for user ",n.name]}),Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("target0",e.target[0]),console.log("target1",e.target[1]),t(e.target[0].value,e.target[1].value)},children:[Object(O.jsx)("input",{name:"optionOne",type:"text"}),Object(O.jsx)("input",{name:"optionTwo",type:"text"}),Object(O.jsx)("button",{type:"submit",children:"Create"})]})]})}));var S=Object(c.b)((function(e,t){var n=e.users,r=e.questions,o=e.currentUser,s=t.match.params.id,a=!!r[s],i={};if(a){var c=0;switch(n[o].answers[s]){case"optionOne":c=1;break;case"optionTwo":c=2;break;default:c=0}i.id=s,i.options={optionOne:r[s].optionOne.text,optionTwo:r[s].optionTwo.text},i.answerState=c;var u=r[s].optionOne.votes.length,d=r[s].optionTwo.votes.length,j=u+d,b={optionOne:100*u/j,optionTwo:100*d/j},l={name:n[r[s].author].name,avatarUrl:n[r[s].author].avatarURL};i.answerStatistics=b,i.author=l}return{currentUser:{id:o,name:n[o].name,avatarUrl:n[o].avatarURL},isPresent:a,question:i}}),(function(e){return{answerQuestion:function(t,n,r){return e(function(e,t,n){return{type:h,payload:{userId:e,questionId:t,selectedOption:n}}}(t,n,r))}}}))((function(e){var t=e.currentUser,n=e.isPresent,r=e.question,o=e.answerQuestion,s=null;function a(e){o(t.id,r.id,e)}return s=n?Object(O.jsxs)("div",{children:[Object(O.jsxs)("h3",{children:[r.author.name," asks"]}),Object(O.jsx)("p",{children:"Would you rather?"}),Object(O.jsxs)("button",{onClick:function(e){return a("optionOne")},disabled:0!==r.answerState,children:[r.options.optionOne,0!==r.answerState&&Object(O.jsxs)("p",{children:["Percentage: ",r.answerStatistics.optionOne,"%"]})]}),Object(O.jsxs)("button",{onClick:function(e){return a("optionTwo")},disabled:0!==r.answerState,children:[r.options.optionTwo,0!==r.answerState&&Object(O.jsxs)("p",{children:["Percentage: ",r.answerStatistics.optionTwo,"%"]})]})]}):Object(O.jsx)("div",{children:"Sorry we couldn't find this question"}),Object(O.jsxs)("div",{children:["Hello from QuestionDetails Page for user ",t.name,Object(O.jsx)("div",{children:s})]})}));var k=Object(c.b)()((function(e){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(d.b,{to:"/",children:"Home"}),Object(O.jsx)(d.b,{to:"/questions",children:"Questions"}),Object(O.jsx)(d.b,{to:"/questions/add",children:"Add a Question"}),Object(O.jsx)(d.b,{to:"/leaderboard",children:"Leaderboard"})]}),Object(O.jsxs)(j.d,{children:[Object(O.jsx)(j.b,{exact:!0,path:"/",component:m}),Object(O.jsx)(y,{path:"/leaderboard",component:g}),Object(O.jsx)(y,{path:"/questions/add",component:T}),Object(O.jsx)(y,{path:"/questions/:id",component:S}),Object(O.jsx)(y,{path:"/questions",component:w})]})]})})),z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),s(e),a(e)}))},L="johndoe";var R=n(10),I=n(16),P={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}};var Q={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};var C=Object(i.combineReducers)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return t.payload.currentUser;case l:return L;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var n=t.payload.question;return Object(v.a)(Object(v.a)({},e),{},Object(R.a)({},n.author,Object(v.a)(Object(v.a)({},e[n.author]),{},{questions:[].concat(Object(I.a)(e[n.author].questions),[n.id])})));case h:var r=t.payload,o=r.userId,s=r.questionId,a=r.selectedOption;return Object(v.a)(Object(v.a)({},e),{},Object(R.a)({},o,Object(v.a)(Object(v.a)({},e[o]),{},{answers:Object(v.a)(Object(v.a)({},e[o].answers),{},Object(R.a)({},s,a))})));default:return e}return e},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(v.a)(Object(v.a)({},e),{},Object(R.a)({},t.payload.question.id,t.payload.question));case h:var n=t.payload,r=n.userId,o=n.questionId,s=n.selectedOption;return Object(v.a)(Object(v.a)({},e),{},Object(R.a)({},o,Object(v.a)(Object(v.a)({},e[o]),{},Object(R.a)({},s,Object(v.a)(Object(v.a)({},e[o][s]),{},{votes:[].concat(Object(I.a)(e[o][s].votes),[r])})))));default:return e}}}),E=n(25),H=n(26),D=n.n(H),A=Object(i.applyMiddleware)(D.a,E.a),N=Object(i.createStore)(C,Object(u.composeWithDevTools)(A));a.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(c.a,{store:N,children:Object(O.jsx)(d.a,{basename:"/would-you-rather",children:Object(O.jsx)(k,{})})})}),document.getElementById("root")),z()}},[[42,1,2]]]);
//# sourceMappingURL=main.72677d38.chunk.js.map